{"version":3,"sources":["assets\\Script\\manager\\AppMgr.ts"],"names":[],"mappings":";;;;;;AAAA;;;;;EAKE;AACF,IAAI,eAAe,GAAG,IAAI,CAAC;AAE3B,gCAAmC;AACnC,4CAA+C;AAC/C,0DAAqD;AACrD,qCAAgC;AAChC,6CAAwC;AAExC;IACI;QACI,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAEM,kBAAW,GAAlB;QACI,IAAG,eAAe,IAAI,IAAI,IAAI,eAAe,IAAI,SAAS,EAAC;YACvD,eAAe,GAAG,IAAI,MAAM,EAAE,CAAC;YAC/B,OAAO,eAAe,CAAC;SAC1B;QACD,OAAO,eAAe,CAAC;IAC3B,CAAC;IAED;;OAEG;IACH,yBAAQ,GAAR;QACI,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI,EAAE;YACzB,OAAO,MAAM,CAAC;SACjB;QACD,IAAI,IAAI,EAAE,KAAK,CAAC;QAChB,IAAI,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,SAAS;QACzC,IAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;QAC1B,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,6CAA6C;QAExE,IAAI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW;QACrC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAC1B,IAAI,GAAG,GAAG,CAAC,EAAE;gBACT,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;gBAChC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAC/B,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;aACxB;SACJ;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAAA,CAAC;IAEF;;OAEG;IACK,wBAAO,GAAf;QACI,uBAAuB;QACvB,EAAE,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;QAClB,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;QAElC,KAAK,CAAC,SAAS,CAAC,GAAG,IAAI,iBAAO,EAAE,CAAC;QAEjC,KAAK,CAAC,aAAa,CAAC,GAAG,qBAAW,CAAC;QAEnC,uCAAuC;QACvC,uCAAuC;QAEvC,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;QACrB,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,oBAAU,EAAE,CAAC;QACvC,sCAAsC;QACtC,gCAAgC;QAEhC,yCAAyC;QACzC,yCAAyC;QACzC,qCAAqC;QAErC,+BAA+B;QAC/B,+BAA+B;QAE/B,iCAAiC;QACjC,8BAA8B;QAE9B,+BAA+B;QAC/B,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpC,CAAC;IAAA,CAAC;IACN,aAAC;AAAD,CAxEA,AAwEC,IAAA","file":"","sourceRoot":"/","sourcesContent":["/*\r\n*\ttitle: AppMgr\r\n*\tdesc: 应用管理\r\n*\tauth: wangquanyou\r\n*\tdate: 2020/06/17 \r\n*/\r\nlet appMgr_Instance = null;\r\n\r\nimport g_Mgr = require(\"./Global\");\r\nimport Http = require(\"../serverConnect/Http\");\r\nimport HttpReqMgr from \"../serverConnect/HttpReqMgr\";\r\nimport UserMgr from \"./UserMgr\";\r\nimport EventHandle from \"./EventHandle\";\r\n\r\nexport default class AppMgr {\r\n    private constructor(){\r\n        this.initMgr();\r\n    }\r\n\r\n    static getInstance(){\r\n        if(appMgr_Instance == null || appMgr_Instance == undefined){\r\n            appMgr_Instance = new AppMgr();\r\n            return appMgr_Instance;\r\n        }\r\n        return appMgr_Instance;\r\n    }\r\n\r\n    /**\r\n     * URL 解析\r\n     */\r\n    urlParse() {\r\n        let params = {};\r\n        if (window.location == null) {\r\n            return params;\r\n        }\r\n        let name, value;\r\n        let str = window.location.href; //取得整个地址栏\r\n        let num = str.indexOf(\"?\")\r\n        str = str.substr(num + 1); //取得所有参数   stringlet.substr(start [, length ]\r\n\r\n        let arr = str.split(\"&\"); //各个参数放到数组里\r\n        for (let i = 0; i < arr.length; i++) {\r\n            num = arr[i].indexOf(\"=\");\r\n            if (num > 0) {\r\n                name = arr[i].substring(0, num);\r\n                value = arr[i].substr(num + 1);\r\n                params[name] = value;\r\n            }\r\n        }\r\n        return params;\r\n    };\r\n\r\n    /**\r\n     * 手动初始化生命周期\r\n     */\r\n    private initMgr() {\r\n        //g_Mgr 中的 key 值一律使用驼峰式\r\n        cc[\"appMgr\"] = {};\r\n        g_Mgr[\"appMgr\"] = {};\r\n        console.log(\"app\" + cc[\"appMgr\"]);\r\n\r\n        g_Mgr[\"userMgr\"] = new UserMgr();\r\n\r\n        g_Mgr[\"eventHandle\"] = EventHandle;\r\n\r\n        //let ReplayMgr = require(\"ReplayMgr\");\r\n        //g_Mgr[\"replayMgr\"] = new ReplayMgr();\r\n\r\n        g_Mgr[\"http\"] = Http;\r\n        g_Mgr[\"httpReqMgr\"] = new HttpReqMgr();\r\n        //g_Mgr[\"global\"] = require(\"Global\");\r\n        //g_Mgr[\"net\"] = require(\"Net\");\r\n\r\n        //let GameNetMgr = require(\"GameNetMgr\");\r\n        //g_Mgr[\"gameNetMgr\"] = new GameNetMgr();\r\n        //g_Mgr[\"gameNetMgr\"].initHandlers();\r\n\r\n        //let Utils = require(\"Utils\");\r\n        //g_Mgr[\"utils\"] = new Utils();\r\n\r\n        //let MJUtil = require(\"MJUtil\");\r\n        //g_Mgr.mjutil = new MJUtil();\r\n\r\n        //cc[\"args\"] = this.urlParse();\r\n        g_Mgr[\"args\"] = this.urlParse();\r\n    };\r\n}"]}